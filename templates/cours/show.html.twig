{% extends 'base.html.twig' %}

{% block title %}Cours{% endblock %}

{% block body %}
    <h1>Cours</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ cour.id }}</td>
            </tr>
            <tr>
                <th>Professeur du Cours</th>
                <td><a href="{{ path('app_professeur_show', {'id': cour.professeur.id}) }}">
                        {{ cour.professeur.nom }}
                    </a></td>
            </tr>
            <tr>
                <th>Libelle</th>
                <td>{{ cour.libelle }}</td>
            </tr>
            <tr>
                <th>AgeMini</th>
                <td>{{ cour.ageMini }}</td>
            </tr>
            <tr>
                <th>AgeMaxi</th>
                <td>{{ cour.ageMaxi }}</td>
            </tr>
            <tr>
                <th>Date du Cours</th>
                <td>{{ cour.dateCours }}</td>
            </tr>
            <tr>
                <th>Heure de Début</th>
                <td>{{ cour.heureDebut|date('H:i') }}</td>
            </tr>
            <tr>
                <th>Heure de Fin</th>
                <td>{{ cour.heureFin|date('H:i') }}</td>
            </tr>
        </tbody>


        <table class="table">
        <br>
            <thead>
            <tr>
            <th>N°</th>
            <th>Élèves du cours</th>
            
            <th>Date de naissance</th>
            
            </tr>
            </thead>
            <tbody>
            {% if cour.inscriptions|length %}
            {% for inscription in cour.inscriptions %}
            <tr>
            <td style="border-right: 1px solid #ddd;">{{ loop.index }}</td>
            <td style="border-right: 1px solid #ddd;">
            <a href="{{ path('app_eleves_show', {'id': inscription.eleves.id}) }}">
                {{ inscription.eleves.prenom }} {{ inscription.eleves.nom }}
            </a>
            </td>
            
            <td>{{ inscription.eleves.dateNaiss ? inscription.eleves.dateNaiss|date('d/m/Y') : '' }}</td>
            
            </tr>
            {% endfor %}
            {% else %}
            <tr>
            <td colspan="{{ is_granted('ROLE_ADMIN') or is_granted('ROLE_ADHERENT') ? 3 : 2 }}">Aucun élève inscrit</td>
            </tr>
            {% endif %}
            </tbody>

            

            
            </thead>
        </table>



    <a href="{{ path('app_cours_index') }}">Retour à la liste</a>

    
    {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_GESTION') %}
                    <a href="{{ path('app_cours_edit', {'id': cour.id}) }}">Modifier</a>
                    {{ include('cours/_delete_form.html.twig') }}
                    {% else %}
                    {% endif %}
    
{% endblock %}

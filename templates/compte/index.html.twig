{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>Mon Compte</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr>
            <tr>
                <th>Roles</th>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            </tr>
            <tr>
                <th>Password</th>
                <td>{{ user.password }}</td>
            </tr>
        </tbody>
    </table>
    {% if is_granted('ROLE_ADHERENT') %}
<br>
    <table>
        <tr>
            <th style="text-align:center; vertical-align:middle;">Cours Inscrits</th>
        </tr>
    <tr>
            <td style="text-align:center; vertical-align:middle;">
            {% if elefe.cours is defined and elefe.cours|length %}
                {% for cour in elefe.cours %}
                <a href="{{ path('app_cours_show', {'id': cour.id}) }}">{{ cour.libelle }}</a>{% if not loop.last %} | {% endif %}
                {% endfor %}
            {% elseif elefe.inscriptions is defined and elefe.inscriptions|length %}
                {% for insc in elefe.inscriptions %}
                {% if insc.cours is defined %}
                    <a href="{{ path('app_cours_show', {'id': insc.cours.id}) }}">{{ insc.cours.libelle }}</a>
                {% elseif insc.cour is defined %}
                    <a href="{{ path('app_cours_show', {'id': insc.cour.id}) }}">{{ insc.cour.libelle }}</a>
                {% endif %}
                {% if not loop.last %} | {% endif %}
                {% endfor %}
            {% else %}
                Aucun cours
            {% endif %}
            </td>
        </tr>
    </table>
    {% else  %}
    {% endif %}

    
        <a href="{{ path('app_accueil') }}">back to index</a>
        <br>
       <a href="{{ path('app_logout') }}" class="btn btn-lg btn-danger">
        Se d√©connecter
        </a>      
    
<br>
    
    
{% endblock %}

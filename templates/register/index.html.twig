{% extends 'base.html.twig' %}

{% block title %}Créer un compte{% endblock %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4">
    <div class="w-full max-w-md">
        {# Carte principale #}
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
            {# En-tête avec fond bleu #}
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 px-8 py-6">
                <h1 class="text-3xl font-bold text-white text-center">
                    Créer un compte
                </h1>
                <p class="text-blue-100 text-center mt-2 text-sm">
                    Rejoignez-nous en quelques instants
                </p>
            </div>

            {# Contenu du formulaire #}
            <div class="px-8 py-6">
                {# Messages flash #}
                {% for message in app.flashes('success') %}
                    <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 text-sm" role="alert">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            {{ message }}
                        </div>
                    </div>
                {% endfor %}

                {# Formulaire #}
                {{ form_start(RegisterForm, {'attr': {'class': 'space-y-5'}}) }}
                    
                    {# Champ Email #}
                    <div>
                        {{ form_label(RegisterForm.email, 'Adresse mail: ', {
                            'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-2'}
                        }) }}
                        {{ form_widget(RegisterForm.email, {
                            'attr': {
                                'class': 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200',
                                'placeholder': 'exemple@email.com'
                            }
                        }) }}
                        <div class="mt-1">
                            {{ form_errors(RegisterForm.email) }}
                        </div>
                    </div>

                    {# Champ Mot de passe #}
                    <div>
                        {{ form_label(RegisterForm.plainPassword, 'Mot de passe : ', {
                            'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-2'}
                        }) }}
                        {{ form_widget(RegisterForm.plainPassword, {
                            'attr': {
                                'class': 'w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200',
                                'placeholder': '••••••••' 
                            }
                        }) }}
                        <div class="mt-1">
                            {{ form_errors(RegisterForm.plainPassword) }}
                        </div>
                    </div>

                    {# Case à cocher "conditions" #}
                    <div class="flex items-center space-x-2">
                        {{ form_widget(RegisterForm.agreeTerms, {
                            'attr': {
                                'class': 'w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500'
                            }
                        }) }}
                        <label for="{{ RegisterForm.agreeTerms.vars.id }}" class="text-sm text-gray-700">
                            J'accepte les <a href="{{ path('app_conditions') }}" target="_blank" class="text-blue-600 hover:text-blue-700">conditions d'utilisation</a>
                        </label>
                    </div>
                    <div class="text-red-500 text-sm">
                        {{ form_errors(RegisterForm.agreeTerms) }}
                    </div>

                    {# Bouton de soumission #}
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold py-3 rounded-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition duration-200 hover:scale-[1.02] active:scale-[0.98] shadow-md">
                        S'inscrire
                    </button>

                {{ form_end(RegisterForm) }}

                {# Lien de connexion #}
                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                        Déjà inscrit ? 
                        <a href="{{ path('app_login') }}" class="font-semibold text-blue-600 hover:text-blue-700 transition duration-200">
                            Se connecter
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
{% endblock %}

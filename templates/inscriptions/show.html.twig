{% extends 'base.html.twig' %}

{% block title %}D√©tails de l'inscription{% endblock %}

{% block body %}
    <h1>D√©tails de l'inscription #{{ inscription.id }}</h1>

    <section>
        <h2>üë§ Informations de l'√©l√®ve</h2>
        <p><strong>Nom :</strong> {{ inscription.eleves.nom }} {{ inscription.eleves.prenom }}</p>
        <p><strong>Date de naissance :</strong> {{ inscription.eleves.dateNaiss ? inscription.eleves.dateNaiss|date('d/m/Y') : 'Non d√©finie' }}</p>
    </section>

    <section>
        <h2>üìñ Informations du cours</h2>
        <p><strong>Cours :</strong> {{ inscription.cours.libelle }}</p>
        <p><strong>√Çge minimum :</strong> {{ inscription.cours.ageMini }} ans</p>
        <p><strong>√Çge maximum :</strong> {{ inscription.cours.ageMaxi }} ans</p>
        <p><strong>Horaire :</strong> {{ inscription.cours.dateCours }} de {{ inscription.cours.heureDebut ? inscription.cours.heureDebut|date('H:i') : '' }} √† {{ inscription.cours.heureFin ? inscription.cours.heureFin|date('H:i') : '' }}</p>
        <p><strong>Professeur :</strong> 
            {% if inscription.cours.professeur %}
                {{ inscription.cours.professeur.nom }} {{ inscription.cours.professeur.prenom }}
            {% else %}
                <span style="color: #6c757d;">Non assign√©</span>
            {% endif %}
        </p>
    </section>

    <section>
        <h2>üí∞ Informations de paiement</h2>
        <p><strong>Nombre de paiements :</strong> {{ inscription.nombrePaiments }}</p>
        <p><strong>Date d'inscription :</strong> {{ inscription.dateInscription ? inscription.dateInscription|date('d/m/Y') : 'Non d√©finie' }}</p>
    </section>

    <div style="margin-top: 2rem;">
        <a href="{{ path('app_inscriptions_index') }}" class="btn">‚Üê Retour √† la liste</a>
        
        {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_GESTION') %}
            <a href="{{ path('app_inscriptions_edit', {'id': inscription.id}) }}" class="btn btn--edit">Modifier</a>
            
            <form method="post" 
                  action="{{ path('app_inscriptions_delete', {'id': inscription.id}) }}" 
                  style="display:inline;"
                  onsubmit="return confirm('√ätes-vous s√ªr de vouloir supprimer cette inscription ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ inscription.id) }}">
                <button type="submit" style="background-color: #dc3545; color: white;">üóëÔ∏è Supprimer</button>
            </form>
        {% endif %}
    </div>
{% endblock %}
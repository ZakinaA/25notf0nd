{# templates/base.html.twig #}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="../public/img/logo/logo.jpg">

        {% block stylesheets %}
        <style> 
        /* Header */
header {
  background-color: var(--color-surface);
  box-shadow: var(--shadow);
  position: sticky;
  top: 0;
  z-index: 100;
  max-width: 20s00px;
  margin: 0 auto;
  padding: 1rem 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center; /* ‚Üê changement : centre horizontalement */
  gap: 2rem; /* optionnel pour espacer logo, nav et bouton */
  text-align: center;

}

header .container {
  max-width: 1300px;
  margin: 0 auto;
  padding: 1rem 1.5rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
/*navbar*/
.navbar {
  text-align: center;
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 220px;
  background-color: var(--color-surface);
  box-shadow: inset 2 -20px -80px -30px rgba(0,0,0,0.08); 
  display: flex;
  flex-direction: column;
  padding-top: 1.5rem;
  gap: 1rem;
  z-index: 1000;
}


.navbar a {
  color: var(--color-text);
  text-decoration: none;
  padding: 12px 20px;
  border-radius: var(--radius);
  transition: background-color 0.3s ease, color 0.3s ease;
}

.navbar a:hover {
  color: black;
}
/*navbar1*/
.navbar1 {
 }



/* Logo */
header .logo {
  font-size: 1.5rem;
  color: var(--color-primary-dark);
  font-weight: 700;
  letter-spacing: -0.5px;
}

/* Navigation */
nav ul {
  display: flex;
  list-style: none;
  gap: 2rem;
}

nav a {
  color: var(--color-text);
  font-weight: 500;
  text-decoration: none;
  transition: color 0.3s ease;
  position: relative;
}

nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0%;
  height: 2px;
  background-color: var(--color-primary);
  transition: width 0.3s ease;
}

nav a:hover::after,
nav a.active::after {
  width: 100%;
}

/* Bouton de droite */
header .btn {
  padding: 0.6rem 1.2rem;
  font-size: 0.95rem;
}

/* Responsive */
@media (max-width: 768px) {
  header .container {
    flex-wrap: wrap;
  }

  nav ul {
    flex-direction: column;
    width: 100%;
    margin-top: 1rem;
    gap: 1rem;
  }

  header .btn {
    width: 100%;
    text-align: center;
    margin-top: 1rem;
  }
}

        /* Reset global ‚Äî minimaliste et moderne */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --color-bg: #f5f6f7;
  --color-text: #1b1b1b;
  --color-primary: #3b5bdb;
  --color-primary-dark: #2744a3;
  --color-accent: #ffd43b;
  --color-surface: #ffffff;
  --radius: 12px;
  --shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
}

body {
  font-family: 'Inter', 'Helvetica Neue', sans-serif;
  color: var(--color-text);
  background-color: var(--color-bg);
  line-height: 1.7;
  font-size: 16px;
}

/* Layout principal */
main {
  max-width: 1200px;
  margin: 3rem auto;
  padding: 1.5rem;
}

/* Titres */
h1, h2, h3 {
  font-weight: 700;
  color: var(--color-primary-dark);
  margin-bottom: 1rem;
  letter-spacing: -0.5px;
}

/* Sections */
section {
  background-color: var(--color-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 2rem;
  margin-bottom: 2.5rem;
  transition: transform 0.3s ease;
}

section:hover {
  transform: translateY(-4px);
}

/* Table */
table {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--color-surface);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}

th, td {
  padding: 1rem 1.2rem;
  text-align: left;
  border-bottom: 1px solid #e9ecef;
}

th {
  background-color: var(--color-primary);
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.9rem;
}

tr:hover td {
  background-color: #f1f3f5;
}

/* Liens & boutons */
a, button {
  font-weight: 500;
  border: none;
  border-radius: var(--radius);
  padding: 0.7rem 1.4rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  text-decoration: none;
}

a.btn, button {
  background-color: var(--color-primary);
  color: white;
}

a.btn:hover, button:hover {
  background-color: var(--color-primary-dark);
}

a.btn--edit {
  background-color: var(--color-accent);
  color: #1b1b1b;
}

a.btn--edit:hover {
  background-color: #f59f00;
}

/* Animation subtile sur hover */
button:hover, a:hover {
  transform: translateY(-2px);
}

/* Responsive */
@media (max-width: 768px) {
  table, thead, tbody, th, td, tr {
    display: block;
  }
  th {
    display: none;
  }
  td {
    border-bottom: 1px solid #dee2e6;
    padding: 0.8rem;
  }
}
footer {
  margin-top: auto;
  background-color: var(--color-surface);
  box-shadow: var(--shadow);
  padding: 2rem 1.5rem;
  color: var(--color-text);
  text-align: center;
}

.footer-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 2rem;
}

.footer-logo h2 {
  color: var(--color-primary-dark);
  margin-bottom: 0.5rem;
}

.footer-nav ul {
  list-style: none;
  padding: 0;
}

.footer-nav li {
  margin-bottom: 0.5rem;
}

.footer-nav a {
  color: var(--color-text);
  text-decoration: none;
  transition: color 0.3s ease;
}

.footer-nav a:hover {
  color: var(--color-primary);
}

.footer-social a {
  font-size: 1.5rem;
  margin-right: 1rem;
  color: var(--color-text);
  transition: color 0.3s ease;
}

.footer-social a:hover {
  color: var(--color-primary);
}

.footer-legal {
  max-width: 1200px;
  margin: 2rem auto 0 auto;
  font-size: 0.8rem;
  color: #6c757d;
}

/* Responsive */
@media (max-width: 768px) {
  .footer-container {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .footer-social a {
    margin-right: 0.8rem;
  }
}

.footer-legal-links ul {
  list-style: none;
  padding: 0;
}

.footer-legal-links li {
  margin-bottom: 0.5rem;
}

.footer-legal-links a {
  color: var(--color-text);
  text-decoration: none;
  transition: color 0.3s ease;
}

.footer-legal-links a:hover {
  color: var(--color-primary);
}

/* Responsive */
@media (max-width: 768px) {
  .footer-legal-links {
    text-align: center;
  }
}
.navbar {
    height: 100vh;        /* toute la hauteur de l‚Äô√©cran */
    overflow-y: auto;     /* active le scroll vertical */
    overflow-x: hidden;   /* pas de scroll horizontal */
}

        
        </style>
        {% endblock %}

  <body>
    <header>
      <h1>√âcole de Musique : eMusic</h1>
      <p>Former les talents d‚Äôaujourd‚Äôhui, inspirer les musiciens de demain.</p>
      <div>
        {% if app.user %}
        <td>Votre role est :</td>
    {% set roleLabels = {
        'ROLE_ADMIN': 'Administrateur',
        'ROLE_ADHERENT': 'Adh√©rent',
        'ROLE_GESTION': 'Gestionnaire'
    } %}
    
    {% for role in app.user.roles %}
        {{ roleLabels[role] ?? role }}{% if not loop.last %}, {% endif %}
    {% endfor %}
{% else %}
    Vous n‚Äô√™tes pas connect√©
{% endif %}
    </div>
    </header>
    
          
      <div class="navbar">
      <div class="navbar1">
      
      <a href="{{ path('app_accueil') }}"><img src="{{ asset('img/logo/logo.jpg') }}" alt="Logo" width="170" height="170"></a>

    
      </div>
      <nav>
      
        
          <a href="{{ path('app_accueil') }}">üè†Accueil</a>
        <br>
        <br>
        
          <a href="{{ path('app_instrument_index') }}">üé∏Instruments</a>
          
        <br>
        <br>
          <a href="{{ path('app_eleves_index') }}">üßí√âl√®ves</a>
        <br>
        <br>
          <a href="{{ path('app_cours_index') }}">üìñCours</a>
        <br>
        {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_GESTION') %}
          <br>
          <a href="{{ path('app_intervention_index') }}">üîßInterventions</a>
        <br>
          {% else  %}
          
          {% endif %}
        
        <br>
          <a href="{{ path('app_professeur_index') }}">üßë‚Äçüè´Professeurs</a>
        <br>
        {% if is_granted('ROLE_ADMIN')or is_granted('ROLE_GESTION') %}
          <br>
          <a href="{{ path('app_contrat_pret_index') }}">üìùContrats Pr√™ts</a>
        <br>
          {% else  %}
          
          {% endif %}
        
        </nav>
        
          
          
          
        {% if is_granted('ROLE_ADMIN')or is_granted('ROLE_GESTION') or is_granted('ROLE_ADHERENT') %}
          
          {% else  %}
          <a href="{{ path('app_register') }}">‚úçÔ∏èInscription</a>
          {% endif %}
          
        {% if is_granted('ROLE_ADMIN') %}
          <a href="{{ path('app_user_index') }}">üßë‚Äçü§ù‚ÄçüßëGestion Utilisateurs</a>
          {% else  %}
          {% endif %}
        {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_ADHERENT') or is_granted('ROLE_GESTION') %}
          <a href="{{ path('app_compte') }}">üë§Mon compte</a>
          {% else  %}
          <a href="{{ path('app_login') }}">‚úÖConnexion</a>
          {% endif %}
          

      </div>
    
    
    <main>
      {% block body %}{% endblock %}
    </main>

    <footer>
  <div class="footer-container">
    <!-- Section de logo / marque -->
    <div class="footer-logo">
      <h2>eMusic</h2>
      <p>¬© 2025 Tous droits r√©serv√©s</p>
    </div>

    
    

    <!-- Informations l√©gales / RGPD -->
    <div class="footer-legal-links">
      <h3>Informations l√©gales</h3>
      <ul>
        <li><a href="{{ path('app_politique_conf') }}">Politique de confidentialit√©</a></li>
        <li><a href="{{ path('app_cookie') }}">Politique des cookies</a></li>
        <li><a href="{{ path('app_droit') }}">Exercer vos droits RGPD</a></li>
        <li><a href="{{ path('app_conditions') }}">Conditions d'utilisation</a></li>
      </ul>
    </div>

    <!-- Navigation rapide -->
    <div class="footer-nav">
      <div class="footer-social">
      <h3>Suivez-nous</h3>
      <a href="" aria-label="Facebook">Facebook</a>
      <a href="" aria-label="Twitter">Twitter</a>
      <a href="" aria-label="LinkedIn">LinkedIn</a>
      
    </div>
    </div>
  </div>
</footer>
  </body>
</html>
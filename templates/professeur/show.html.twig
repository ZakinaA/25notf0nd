{% extends 'base.html.twig' %}

{% block title %}Professeur{% endblock %}

{% block body %}
    <h1>Professeur</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom</th>
                <td>{{ professeur.nom }}</td>
            </tr>
            <tr>
                <th>Prenom</th>
                <td>{{ professeur.prenom }}</td>
            </tr>
            {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_GESTION') %}
            <tr>
                <th>N°Rue</th>
                <td>{{ professeur.numRue }}</td>
            </tr>
            <tr>
                <th>Adresse</th>
                <td>{{ professeur.rue }}</td>
            </tr>
            <tr>
                <th>Code postal</th>
                <td>{{ professeur.copos }}</td>
            </tr>
            <tr>
                <th>Ville</th>
                <td>{{ professeur.ville }}</td>
            </tr>
            <tr>
                <th>N°Téléphone</th>
                <td>{{ professeur.tel }}</td>
            </tr>
            {% else  %}
            {% endif %}
            <tr>
                <th>Adresse mail</th>
                <td>{{ professeur.mail }}</td>
            </tr>
        </tbody>
    </table>

    <br>

    <table>
    <thead>
        <tr>
            <th>Cours</th>
            <th>Heure Début</th>
            <th>Heure Fin</th>
            <th>Jour</th>
            <th>Nombre d'élèves inscrits</th>
        </tr>
    </thead>
    <tbody>
        {% for cours in professeur.cours %}
        <tr>
            <td><a href="{{ path('app_cours_show', {'id': cours.id}) }}">{{ cours.libelle }}</a></td>
            <td>{{ cours.heureDebut|date('H:i') }}</td>
            <td>{{ cours.heureFin|date('H:i') }}</td>
            <td>{{ cours.dateCours }}</td>
            <td>{{ cours.inscriptions|length }}</td>
        </tr>
        {% endfor %}
    </tbody>
    </table>

    <a href="{{ path('app_professeur_index') }}">Revenir à la liste</a>

    {% if is_granted('ROLE_ADMIN')or is_granted('ROLE_GESTION') %}
                    <a href="{{ path('app_professeur_edit', {'id': professeur.id}) }}">Modifier</a>
                    {{ include('professeur/_delete_form.html.twig') }}                
                    {% else %}
                    {% endif %}
{% endblock %}